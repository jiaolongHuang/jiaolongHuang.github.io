<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Casperjs实战 · 小路口</title><meta name="description" content="Casperjs实战 - jiaolongHuang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://jiaolongHuang.github.io/atom.xml" title="小路口"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/minel" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/jiaolonghuang" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Casperjs实战</h1><div class="post-info">Apr 17, 2016</div><div class="post-content"><p>Casperjs系列之实践操作。接上一篇Casperjs的理论介绍之后，我们来介绍一下Casperjs如何在实际场景中使用，以及可能会遇到的一些问题。<br><a id="more"></a></p>
<h2 id="怎么用？"><a href="#怎么用？" class="headerlink" title="怎么用？"></a>怎么用？</h2><p>因为Casperjs使用比较简单，基本可以分为三步，’创建并打开一个浏览器’，’进行网页浏览点击等等一系列操作’, ‘关闭浏览器’。这里仅举两个例子作为介绍，其他更多的用法请参考Casperjs官方API。</p>
<ul>
<li><p><strong>网页截图</strong><br>  截图可分为2种，一种是简单的<strong>直接截图</strong>，一种是<strong>先登录再截图</strong>。对于前者很简单，直接调api即可。难点再与后者，如何登录。<br>  而登录又分为2种，<strong>正常填写form表单并提交</strong>，网页跳转登录，但是这一种，往往会遇到需要填写验证码的情况，尤其是图片验证码，可能需要先进行图片识别，这样操作会比较复杂；另一种是，<strong>带着cookie</strong>直接打开需要截取的页面，但这种也存在弊端，就是如何解决cookie过期的问题。</p>
<p>  对于表单提交可以使用<code>fill, fillSelectors</code>的方法，关键代码片段如下：</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> casper = <span class="built_in">require</span>(<span class="string">'casper'</span>).create(&#123;</div><div class="line">	<span class="attr">pageSettings</span>: &#123;</div><div class="line">		<span class="attr">userAgent</span>: <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2593.0 Safari/537.36"</span></div><div class="line">	&#125;,</div><div class="line">	<span class="comment">// 不可以写online路径，只能写相对或绝对路径</span></div><div class="line">	<span class="comment">//clientScripts: ["includes/jquery.min.js"],</span></div><div class="line">	verbose: <span class="literal">true</span>,</div><div class="line">	<span class="attr">logLevel</span>: <span class="string">'debug'</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// 1. start，初始化一个浏览器</span></div><div class="line">casper.start().then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">this</span>.echo(<span class="string">'....begin.....'</span>);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// 2. 设置viewportsize后打开页面</span></div><div class="line">casper.viewport(<span class="number">1024</span>, <span class="number">768</span>)</div><div class="line">		.thenOpen(<span class="string">'https://www.so.com'</span>)</div><div class="line">		.then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">			<span class="keyword">this</span>.echo(<span class="keyword">this</span>.getTitle());</div><div class="line">		&#125;);</div><div class="line"></div><div class="line"><span class="comment">// 点击名为‘登录’的链接</span></div><div class="line">casper.then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">if</span>( <span class="keyword">this</span>.exists(<span class="string">'#user-login'</span>) )&#123;</div><div class="line">		<span class="keyword">this</span>.echo(<span class="string">'还未登录'</span>);</div><div class="line">		<span class="comment">// 也可用'click'，'click'要求对选择器跟精确些</span></div><div class="line">		<span class="keyword">this</span>.clickLabel(<span class="string">'登录'</span>, <span class="string">'a'</span>);</div><div class="line">	&#125;<span class="keyword">else</span>&#123;</div><div class="line">		<span class="keyword">this</span>.echo(<span class="string">'已登录'</span>);</div><div class="line">		<span class="keyword">this</span>.exit();</div><div class="line">	&#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// 等待表单出现</span></div><div class="line">casper.waitForSelector(<span class="string">'form.quc-form'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="comment">// 截图： 登录之前的首页</span></div><div class="line">	<span class="keyword">this</span>.captureSelector(<span class="string">'a.png'</span>, <span class="string">'body'</span>);</div><div class="line">	<span class="keyword">this</span>.echo(<span class="string">'登录表单已出现, 即将开始填写表单'</span>);</div><div class="line"></div><div class="line">	<span class="comment">// 填写表单，要是遇着输入图片形式的验证码就没辙了。。</span></div><div class="line">	<span class="comment">/**</span></div><div class="line">	 * 方法1</div><div class="line">	 */</div><div class="line">	<span class="keyword">this</span>.fillSelectors(<span class="string">'form.quc-form'</span>, &#123;</div><div class="line">		<span class="string">'.quc-input-account'</span>: <span class="string">'你的账号'</span>,</div><div class="line">		<span class="string">'.quc-input-password'</span>: <span class="string">'你的密码'</span></div><div class="line">	&#125;, <span class="literal">true</span>);</div><div class="line"></div><div class="line">	<span class="comment">/**</span></div><div class="line">	 * 方法2</div><div class="line">	 * fill(),根据他们的'name'值来选择字段</div><div class="line">	 */</div><div class="line">	<span class="comment">/*this.fill('form.quc-form', &#123;</span></div><div class="line">		'account': '你的账号',</div><div class="line">		'password': '你的密码'</div><div class="line">	&#125;, true);*/</div><div class="line"></div><div class="line">	<span class="comment">/**</span></div><div class="line">	 * 手动点击提交</div><div class="line">	 */</div><div class="line">	<span class="comment">/*this.evaluate(function()&#123;</span></div><div class="line">		document.querySelector('.quc-form').submit();</div><div class="line">	&#125;);*/</div><div class="line">&#125;);</div><div class="line"></div><div class="line">casper.wait(<span class="number">2000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">this</span>.echo(<span class="string">'表单填写完成，正在验证.....'</span>);</div><div class="line">	<span class="comment">// 验证是否得到登录后的用户名</span></div><div class="line">	<span class="keyword">var</span> name = <span class="keyword">this</span>.exists(<span class="string">'.login .uname'</span>) ? <span class="keyword">this</span>.getElementInfo(<span class="string">'.login .uname'</span>).text : <span class="string">''</span>;</div><div class="line">	<span class="keyword">this</span>.echo(<span class="string">'the name is: '</span> + name);</div><div class="line">	<span class="comment">// 截图： 登录之后的首页</span></div><div class="line">	<span class="keyword">this</span>.captureSelector(<span class="string">'b1.png'</span>, <span class="string">'body'</span>);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// 3. 将上面定义的操作进行实际操作</span></div><div class="line">casper.run(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="comment">// 4. 关闭浏览器</span></div><div class="line">	<span class="keyword">this</span>.echo(<span class="string">'===================the progress is over!==================='</span>).exit();</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>  带着cookie打开网页的方法，但是Casperjs没有提供cookie相关的方法，好在我们还可以使用phantom中的方法，代码片段如下：</p>
  <figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">phantom.cookiesEnabled = <span class="literal">true</span>;</div><div class="line">casper.then(function()&#123;</div><div class="line">	phantom.addCookie(&#123;</div><div class="line">	  <span class="string">'name'</span>: <span class="string">'Q'</span>,</div><div class="line">	  <span class="string">'value'</span>: <span class="string">'具体的值'</span>,</div><div class="line">	  <span class="string">'domain'</span>: <span class="string">'.so.com'</span></div><div class="line">	&#125;);</div><div class="line"></div><div class="line">	phantom.addCookie(&#123;</div><div class="line">	  <span class="string">'name'</span>: <span class="string">'T'</span>,</div><div class="line">	  <span class="string">'value'</span>: <span class="string">'具体的值'</span>,</div><div class="line">	  <span class="string">'domain'</span>: <span class="string">'.so.com'</span></div><div class="line">	&#125;);</div><div class="line"></div><div class="line">	showAllCookie();</div><div class="line"></div><div class="line">	<span class="comment">// 需要带着cookie重新打开一下页面</span></div><div class="line">	casper.thenOpen(<span class="string">'https://www.so.com'</span>, function()&#123;</div><div class="line">		<span class="comment">// 点击登录</span></div><div class="line">		<span class="keyword">if</span>( <span class="keyword">this</span>.exists(<span class="string">'#user-login'</span>) )&#123;</div><div class="line">			<span class="keyword">this</span>.echo(<span class="string">'还未登录'</span>);</div><div class="line">			<span class="comment">// 也可用'click'，'click'要求对选择器跟精确些</span></div><div class="line">			<span class="keyword">this</span>.clickLabel(<span class="string">'登录'</span>, <span class="string">'a'</span>);</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="comment">// 验证是否得到登录后的用户名</span></div><div class="line">		<span class="keyword">var</span> name = <span class="keyword">this</span>.exists(<span class="string">'.login .uname'</span>) ? <span class="keyword">this</span>.getElementInfo(<span class="string">'.login .uname'</span>).text : <span class="string">''</span>;</div><div class="line">		<span class="keyword">this</span>.echo(<span class="string">'the name is: '</span> + name);</div><div class="line"></div><div class="line">		<span class="comment">// 截图： 登录之后的首页</span></div><div class="line">		<span class="keyword">this</span>.captureSelector(<span class="string">'CB1.png'</span>, <span class="string">'body'</span>);</div><div class="line">	&#125;);</div><div class="line">	</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p><strong>爬虫</strong><br>  爬虫的基本思路就是，在网页中根据有序的dom结构获得到自己想要的信息。Casperjs自身提供了很多简单的可以操作dom的api，比如getTitle，getCurrentUrl，getHTML等等。除此之外，还可以在创建Casperjs对象时引入其他脚本，比如jquery。<br>  有时我们在做无具体目标的，需要保存页面中所有链接及其子链接依次往下链接内容时，就可能会连续用到then和thenOpen方法打开url。这里贴出一段官方的例子,就是遇到a链接就打开，并在新的页面中继续查找链接并打开，直接页面中没有链接为止：</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*eslint strict:0*/</span></div><div class="line"><span class="comment">/*global CasperError, console, phantom, require*/</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> casper = <span class="built_in">require</span>(<span class="string">"casper"</span>).create(&#123;</div><div class="line">    <span class="attr">verbose</span>: <span class="literal">true</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// The base links array</span></div><div class="line"><span class="keyword">var</span> links = [</div><div class="line">    <span class="string">"http://www.so.com/"</span></div><div class="line">];</div><div class="line"></div><div class="line"><span class="comment">// If we don't set a limit, it could go on forever</span></div><div class="line"><span class="keyword">var</span> upTo = ~~casper.cli.get(<span class="number">0</span>) || <span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> currentLink = <span class="number">0</span>;</div><div class="line"></div><div class="line"><span class="comment">// Get the links, and add them to the links array</span></div><div class="line"><span class="comment">// (It could be done all in one step, but it is intentionally splitted)</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">addLinks</span>(<span class="params">link</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> found = <span class="keyword">this</span>.evaluate(searchLinks);</div><div class="line">        <span class="keyword">this</span>.echo(found.length + <span class="string">" links found on "</span> + link);</div><div class="line">        links = links.concat(found);</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Fetch all &lt;a&gt; elements from the page and return</span></div><div class="line"><span class="comment">// the ones which contains a href starting with 'http://'</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">searchLinks</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> filter, map;</div><div class="line">    filter = <span class="built_in">Array</span>.prototype.filter;</div><div class="line">    map = <span class="built_in">Array</span>.prototype.map;</div><div class="line">    <span class="keyword">return</span> map.call(filter.call(<span class="built_in">document</span>.querySelectorAll(<span class="string">"a"</span>), <span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> (<span class="regexp">/^http:\/\/.*/i</span>).test(a.getAttribute(<span class="string">"href"</span>));</div><div class="line">    &#125;), <span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> a.getAttribute(<span class="string">"href"</span>);</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Just opens the page and prints the title</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">link</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.start(link, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.echo(<span class="string">'Page title: '</span> + <span class="keyword">this</span>.getTitle());</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// As long as it has a next link, and is under the maximum limit, will keep running</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">check</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (links[currentLink] &amp;&amp; currentLink &lt; upTo) &#123;</div><div class="line">        <span class="keyword">this</span>.echo(<span class="string">'--- Link '</span> + currentLink + <span class="string">' ---'</span>);</div><div class="line">        start.call(<span class="keyword">this</span>, links[currentLink]);</div><div class="line">        addLinks.call(<span class="keyword">this</span>, links[currentLink]);</div><div class="line">        currentLink++;</div><div class="line">        <span class="keyword">this</span>.run(check);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">this</span>.echo(<span class="string">"All done."</span>);</div><div class="line">        <span class="keyword">this</span>.exit();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">casper.start().then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.echo(<span class="string">"Starting"</span>);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">casper.run(check);</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="我遇到过的问题"><a href="#我遇到过的问题" class="headerlink" title="我遇到过的问题"></a>我遇到过的问题</h2><ul>
<li><p>viewport的设置:<br>  phantom默认设置是<code>300*400</code>。实践证明在不重写的情况下，不同页面截取下来的大小不一，有时是<code>300*y</code>，有时是<code>x*400</code>。<br>  如果需要根据页面的内容来截取特定大小的，需要先设置viewport中width，height中的任意一个，再通过极端内容的宽高，再次动态改变viewport的大小。</p>
</li>
<li><p>不同系统对字体和highdpi支持不好<br>  比如在某些linux系统上无法显示汉字和某些特定的字体，需要重新安装。<br>  截出来的图在highdpi的屏幕上显示会发虚<strong>（暂时还没找到解决办法）</strong></p>
</li>
<li><p>不支持多进程，耗时长<br>  虽然可以通过配置<code>loadImages:  false,loadPlugins: false</code>来提高页面加载速度，但是在进行数据量较大的爬虫时，与pyhton还是有较大差距。</p>
</li>
<li><p>找不到环境变量，如Phantomjs，python<br>  我自己是在使用crontab命令时遇到的，主要原因是环境变量没生效。<br>  解决办法：在命令运行之前，先source一下环境变量</p>
</li>
<li><p>截图在开发机上莫名崩溃<br>  没有原因，不能稳定复现；不是占用内存或cpu过高，事实上才占用百分之几到0点几。<br>  暂且解决办法是，多执行几次截图命令直到截取成功为止。<br>  <strong>目前没有找到真正的原因和解决办法</strong></p>
</li>
<li><p>截取vue组件渲染的页面，空白<br>  具体场景：使用webpack来运行一套view，使用thinkjs来运行webpack打包后的view，截取后者view页面时，总是空白<br>  解决办法：去截取webpack运行的view</p>
</li>
</ul>
</div></article></div></section><footer><div class="paginator"><a href="/2016/04/17/linux-js/" class="prev">PREV</a><a href="/2016/04/13/casperjs/" class="next">NEXT</a></div><div data-thread-key="2016/04/17/casperjs-example/" data-title="Casperjs实战" data-url="http://jiaolongHuang.github.io/2016/04/17/casperjs-example/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"minel"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>友情链接：<a href="https://imququ.com" class="links-item">QuQu</a><a href="http://anjia.github.io" class="links-item">跑跑佳</a><a href="http://www.imwineki.cn/" class="links-item">Wineki</a><a href="http://westpsk.com/" class="links-item">ivan</a></p><p>© 2015 - 2017 <a href="http://jiaolongHuang.github.io">jiaolongHuang</a>. Love this theme <a href="https://github.com/pinggod/hexo-theme-apollo">apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>